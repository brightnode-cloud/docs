---
title: "Environment variables"
description: "Learn how to use environment variables in Brightnode Nodes for configuration, security, and automation"
---

Environment variables in are key-value pairs that you can configure for your Nodes. They are accessible within your containerized application and provide a flexible way to pass configuration settings, secrets, and runtime information to your application without hardcoding them into your code or container image.

## What are environment variables?

Environment variables are dynamic values that exist in your Node's operating system environment. They act as a bridge between your Node's configuration and your running applications, allowing you to:

- Store configuration settings that can change between deployments.
- Pass sensitive information like API keys securely.
- Access Node metadata and system information.
- Configure application behavior without modifying code.
- Reference [Brightnode secrets](/nodes/templates/secrets) in your containers.

When you set an environment variable in your Node configuration, it becomes available to all processes running inside that Node's container.

## Why use environment variables in Nodes?

Environment variables offer several key benefits for containerized applications:

**Configuration flexibility**: Environment variables allow you to easily change application settings without modifying your code or rebuilding your container image. For example, you can set different model names, API endpoints, or processing parameters for different deployments:

```bash
# Set a model name that your application can read
MODEL_NAME=llama-2-7b-chat
API_ENDPOINT=https://api.example.com/v1
MAX_BATCH_SIZE=32
```

**Security**: Sensitive information such as API keys, database passwords, or authentication tokens can be injected as environment variables, keeping them out of your codebase and container images. This prevents accidental exposure in version control or public repositories.

**Node metadata access**: Brightnode provides [predefined environment variables](#Brightnode-provided-environment-variables) that give your application information about the Node's environment, resources, and network configuration. This metadata helps your application adapt to its runtime environment automatically.

**Automation and scaling**: Environment variables make it easier to automate deployments and scale applications. You can use the same container image with different settings for development, staging, and production environments by simply changing the environment variables.

## Setting environment variables

You can configure up to 50 environment variables per Node through the Brightnode interface when creating or editing a Node or Node template.

### During Node creation

1. When creating a new Node, click **Edit Template** and expand the **Environment Variables** section.
2. Click **Add Environment Variable**.
3. Enter the **Key** (variable name) and **Value**.
4. Repeat for additional variables.

### In Node templates

1. Navigate to [My Templates](https://www.console.brightnode.cloud/user/templates) in the console.
2. Create a new template or edit an existing one.
3. Add environment variables in the **Environment Variables** section.
4. Save the template for reuse across multiple Nodes.

### Using secrets

For sensitive data, you can reference [Brightnode secrets](/nodes/templates/secrets) in environment variables using the `BRIGHTNODE_SECRET_` prefix. For example:

```
API_KEY={{ BRIGHTNODE_SECRET_my_api_key }}
DATABASE_PASSWORD={{ BRIGHTNODE_SECRET_db_password }}
```

## Updating environment variables

To update environment variables in your Node:

1. Navigate to the [Nodes](https://www.console.brightnode.cloud/user/nodes) section of the console.
2. Click the three dots to the right of the Node you want to update and select **Edit Node**.
3. Click the **Environment Variables** section to expand it.
4. Add or update the environment variables.
5. Click **Save** to save your changes.

<Warning>
When you update environment variables your Node will restart, clearing all data outside of your volume mount path (`/workspace` by default).
</Warning>

## Accessing environment variables

Once set, environment variables are available to your application through standard operating system mechanisms.

### Verify variables in your Node

You can check if environment variables are properly set by running commands in your Node's terminal:

```bash
# View a specific environment variable
echo $ENVIRONMENT_VARIABLE_KEY

# List all environment variables
env

# Search for specific variables
env | grep BRIGHTNODE
```

### Accessing variables in your applications

Different programming languages provide various ways to access environment variables:

**Python:**
```python
import os

model_name = os.environ.get('MODEL_NAME', 'default-model')
api_key = os.environ['API_KEY']  # Raises error if not found
```

**Node.js:**
```javascript
const modelName = process.env.MODEL_NAME || 'default-model';
const apiKey = process.env.API_KEY;
```

**Bash scripts:**
```bash
#!/bin/bash
MODEL_NAME=${MODEL_NAME:-"default-model"}
echo "Using model: $MODEL_NAME"
```

## Brightnode-provided environment variables

Brightnode automatically sets several environment variables that provide information about your Node's environment and resources:

| Variable              | Description                                                                                      |
| --------------------- | ------------------------------------------------------------------------------------------------ |
| `BRIGHTNODE_POD_ID`       | The unique identifier assigned to your Node.                                                      |
| `BRIGHTNODE_DC_ID`        | The identifier of the data center where your Node is located.                                     |
| `BRIGHTNODE_POD_HOSTNAME` | The hostname of the server where your Node is running.                                            |
| `BRIGHTNODE_GPU_COUNT`    | The total number of GPUs available to your Node.                                                  |
| `BRIGHTNODE_CPU_COUNT`    | The total number of CPUs available to your Node.                                                  |
| `BRIGHTNODE_PUBLIC_IP`    | The publicly accessible IP address for your Node, if available.                                   |
| `BRIGHTNODE_TCP_PORT_22`  | The public port mapped to SSH (port 22) for your Node.                                            |
| `BRIGHTNODE_ALLOW_IP`     | A comma-separated list of IP addresses or ranges allowed to access your Node.                     |
| `BRIGHTNODE_VOLUME_ID`    | The ID of the network volume attached to your Node.                                               |
| `BRIGHTNODE_API_KEY`      | The API key for making Brightnode API calls scoped specifically to this Node.                         |
| `PUBLIC_KEY`          | The SSH public keys authorized to access your Node over SSH.                                      |
| `CUDA_VERSION`        | The version of CUDA installed in your Node environment.                                           |
| `PYTORCH_VERSION`     | The version of PyTorch installed in your Node environment.                                        |
| `PWD`                 | The current working directory inside your Node.                                                   |

## Common use cases

Environment variables are particularly useful for:

**Model configuration**: Configure which AI models to load without rebuilding your container:

```bash
MODEL_NAME=gpt-3.5-turbo
MODEL_PATH=/workspace/models
MAX_TOKENS=2048
TEMPERATURE=0.7
```

**Service configuration**: Set up web services and APIs with flexible configuration:

```bash
API_PORT=8000
DEBUG_MODE=false
LOG_LEVEL=INFO
CORS_ORIGINS=https://myapp.com,https://staging.myapp.com
```

**Database and external service connections**: Connect to databases and external APIs securely:

```bash
DATABASE_URL=postgresql://user:pass@host:5432/db
REDIS_URL=redis://localhost:6379
API_BASE_URL=https://api.external-service.com
```

**Development vs. production settings**: Use different configurations for different environments:

```bash
ENVIRONMENT=production
CACHE_ENABLED=true
RATE_LIMIT=1000
MONITORING_ENABLED=true
```

**Port management**: When configuring symmetrical ports, your application can discover assigned ports through environment variables. This is particularly useful for services that need to know their external port numbers.

For more details, see [Expose ports](/nodes/configuration/expose-ports#symmetrical-port-mapping).

## Best practices

Follow these guidelines when working with environment variables:

**Security considerations**:

- **Never hardcode secrets**: Use [Brightnode secrets](/nodes/templates/secrets) for sensitive data.
- **Use descriptive names**: Choose clear, descriptive variable names like `DATABASE_PASSWORD` instead of `DB_PASS`.

**Configuration management**:

- **Provide defaults**: Use default values for non-critical configuration options.
- **Document your variables**: Maintain clear documentation of what each environment variable does.
- **Group related variables**: Use consistent prefixes for related configuration (for example, `DB_HOST`, `DB_PORT`, `DB_NAME`).

**Application design**:

- **Validate required variables**. Check that critical environment variables are set before your application starts. If the variable is missing, your application should throw an error or return a clear message indicating which variable is not set. This helps prevent unexpected failures and makes debugging easier.
- **Type conversion**: Convert string environment variables to appropriate types (such as integers or booleans) in your application.
- **Configuration validation**: Validate environment variable values to catch configuration errors early.